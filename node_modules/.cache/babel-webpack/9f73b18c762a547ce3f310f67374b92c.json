{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\n\nfunction InViewComponent_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵprojection(1);\n    i0.ɵɵelementContainerEnd();\n  }\n}\n\nconst _c0 = [\"*\"]; // custom component to show the contents only if in view.\n\nexport let InViewComponent = /*#__PURE__*/(() => {\n  class InViewComponent {\n    constructor(element) {\n      this.element = element;\n      this.inView = false;\n      this.options = {\n        threshold: [0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4]\n      };\n    }\n\n    ngOnInit() {\n      this.observer = new IntersectionObserver(this.callback.bind(this), this.options);\n      this.observer.observe(this.element.nativeElement);\n    }\n\n    callback(entries, observer) {\n      entries.forEach(entry => {\n        if (entry.isIntersecting) {\n          // make visible\n          this.changeOpacity(entry);\n          this.inView = true;\n        }\n      });\n    }\n\n    changeOpacity(entry) {\n      if (entry.intersectionRatio <= 0.4) {\n        this.element.nativeElement.style.opacity = entry.intersectionRatio + 0.2;\n        this.element.nativeElement.style.blur = entry.intersectionRatio + 0.2;\n      } else {\n        this.element.nativeElement.style.opacity = 1.0;\n      }\n    }\n\n    ngOnDestroy() {\n      var _a;\n\n      (_a = this.observer) === null || _a === void 0 ? void 0 : _a.disconnect();\n    }\n\n  }\n\n  InViewComponent.ɵfac = function InViewComponent_Factory(t) {\n    return new (t || InViewComponent)(i0.ɵɵdirectiveInject(i0.ElementRef));\n  };\n\n  InViewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InViewComponent,\n    selectors: [[\"app-in-view\"]],\n    ngContentSelectors: _c0,\n    decls: 2,\n    vars: 1,\n    consts: [[1, \"in-view\"], [4, \"ngIf\"]],\n    template: function InViewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵprojectionDef();\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, InViewComponent_ng_container_1_Template, 2, 0, \"ng-container\", 1);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inView);\n      }\n    },\n    directives: [i1.NgIf],\n    styles: [\".in-view[_ngcontent-%COMP%]{display:block}\"]\n  });\n  return InViewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}