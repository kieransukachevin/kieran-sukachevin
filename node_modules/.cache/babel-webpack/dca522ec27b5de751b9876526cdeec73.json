{"ast":null,"code":"import _asyncToGenerator from \"/Users/kieran/development/Website/kierans_website/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\n\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n\n  for (var i = decorators.length - 1, decorator; i >= 0; i--) if (decorator = decorators[i]) result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n\n  if (kind && result) __defProp(target, key, result);\n  return result;\n};\n\nimport { SpectrumElement } from \"@spectrum-web-components/base\";\nimport { property } from \"@spectrum-web-components/base/src/decorators.js\";\nimport { FocusVisiblePolyfillMixin } from \"./focus-visible.dev.js\";\nexport class Focusable extends FocusVisiblePolyfillMixin(SpectrumElement) {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.autofocus = false;\n    this._tabIndex = 0;\n    this.manipulatingTabindex = false;\n  }\n\n  get tabIndex() {\n    if (this.focusElement === this) {\n      const tabindex = this.hasAttribute(\"tabindex\") ? Number(this.getAttribute(\"tabindex\")) : NaN;\n      return !isNaN(tabindex) ? tabindex : -1;\n    }\n\n    const tabIndexAttribute = parseFloat(this.hasAttribute(\"tabindex\") ? this.getAttribute(\"tabindex\") || \"0\" : \"0\");\n\n    if (this.disabled || tabIndexAttribute < 0) {\n      return -1;\n    }\n\n    if (!this.focusElement) {\n      return tabIndexAttribute;\n    }\n\n    return this.focusElement.tabIndex;\n  }\n\n  set tabIndex(tabIndex) {\n    if (this.manipulatingTabindex) {\n      this.manipulatingTabindex = false;\n      return;\n    }\n\n    if (this.focusElement === this) {\n      if (tabIndex !== this.tabIndex) {\n        this._tabIndex = tabIndex;\n        const tabindex = this.disabled ? \"-1\" : \"\" + tabIndex;\n        this.setAttribute(\"tabindex\", tabindex);\n      }\n\n      return;\n    }\n\n    if (tabIndex === -1) {\n      this.addEventListener(\"pointerdown\", this.onPointerdownManagementOfTabIndex);\n    } else {\n      this.manipulatingTabindex = true;\n      this.removeEventListener(\"pointerdown\", this.onPointerdownManagementOfTabIndex);\n    }\n\n    if (tabIndex === -1 || this.disabled) {\n      this.setAttribute(\"tabindex\", \"-1\");\n      this.removeAttribute(\"focusable\");\n\n      if (tabIndex !== -1) {\n        this.manageFocusElementTabindex(tabIndex);\n      }\n\n      return;\n    }\n\n    this.setAttribute(\"focusable\", \"\");\n\n    if (this.hasAttribute(\"tabindex\")) {\n      this.removeAttribute(\"tabindex\");\n    } else {\n      this.manipulatingTabindex = false;\n    }\n\n    this.manageFocusElementTabindex(tabIndex);\n  }\n\n  onPointerdownManagementOfTabIndex() {\n    if (this.tabIndex === -1) {\n      this.tabIndex = 0;\n      this.focus({\n        preventScroll: true\n      });\n    }\n  }\n\n  manageFocusElementTabindex(tabIndex) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      if (!_this.focusElement) {\n        yield _this.updateComplete;\n      }\n\n      if (tabIndex === null) {\n        _this.focusElement.removeAttribute(\"tabindex\");\n      } else {\n        _this.focusElement.tabIndex = tabIndex;\n      }\n    })();\n  }\n\n  get focusElement() {\n    throw new Error(\"Must implement focusElement getter!\");\n  }\n\n  focus(options) {\n    if (this.disabled || !this.focusElement) {\n      return;\n    }\n\n    if (this.focusElement !== this) {\n      this.focusElement.focus(options);\n    } else {\n      HTMLElement.prototype.focus.apply(this, [options]);\n    }\n  }\n\n  blur() {\n    const focusElement = this.focusElement || this;\n\n    if (focusElement !== this) {\n      focusElement.blur();\n    } else {\n      HTMLElement.prototype.blur.apply(this);\n    }\n  }\n\n  click() {\n    if (this.disabled) {\n      return;\n    }\n\n    const focusElement = this.focusElement || this;\n\n    if (focusElement !== this) {\n      focusElement.click();\n    } else {\n      HTMLElement.prototype.click.apply(this);\n    }\n  }\n\n  manageAutoFocus() {\n    if (this.autofocus) {\n      this.dispatchEvent(new KeyboardEvent(\"keydown\", {\n        code: \"Tab\"\n      }));\n      this.focusElement.focus();\n    }\n  }\n\n  firstUpdated(changes) {\n    super.firstUpdated(changes);\n\n    if (!this.hasAttribute(\"tabindex\") || this.getAttribute(\"tabindex\") !== \"-1\") {\n      this.setAttribute(\"focusable\", \"\");\n    }\n  }\n\n  update(changedProperties) {\n    if (changedProperties.has(\"disabled\")) {\n      this.handleDisabledChanged(this.disabled, changedProperties.get(\"disabled\"));\n    }\n\n    super.update(changedProperties);\n  }\n\n  updated(changedProperties) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"disabled\") && this.disabled) {\n      this.blur();\n    }\n  }\n\n  handleDisabledChanged(disabled, oldDisabled) {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      const canSetDisabled = () => _this2.focusElement !== _this2 && typeof _this2.focusElement.disabled !== \"undefined\";\n\n      if (disabled) {\n        _this2.manipulatingTabindex = true;\n\n        _this2.setAttribute(\"tabindex\", \"-1\");\n\n        yield _this2.updateComplete;\n\n        if (canSetDisabled()) {\n          _this2.focusElement.disabled = true;\n        } else {\n          _this2.setAttribute(\"aria-disabled\", \"true\");\n        }\n      } else if (oldDisabled) {\n        _this2.manipulatingTabindex = true;\n\n        if (_this2.focusElement === _this2) {\n          _this2.setAttribute(\"tabindex\", \"\" + _this2._tabIndex);\n        } else {\n          _this2.removeAttribute(\"tabindex\");\n        }\n\n        yield _this2.updateComplete;\n\n        if (canSetDisabled()) {\n          _this2.focusElement.disabled = false;\n        } else {\n          _this2.removeAttribute(\"aria-disabled\");\n        }\n      }\n    })();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateComplete.then(() => {\n      requestAnimationFrame(() => {\n        this.manageAutoFocus();\n      });\n    });\n  }\n\n}\n\n__decorateClass([property({\n  type: Boolean,\n  reflect: true\n})], Focusable.prototype, \"disabled\", 2);\n\n__decorateClass([property({\n  type: Boolean\n})], Focusable.prototype, \"autofocus\", 2);\n\n__decorateClass([property({\n  type: Number\n})], Focusable.prototype, \"tabIndex\", 1);","map":{"version":3,"sources":["/Users/kieran/development/Website/kierans_website/node_modules/@spectrum-web-components/shared/src/focusable.dev.js"],"names":["__defProp","Object","defineProperty","__getOwnPropDesc","getOwnPropertyDescriptor","__decorateClass","decorators","target","key","kind","result","i","length","decorator","SpectrumElement","property","FocusVisiblePolyfillMixin","Focusable","constructor","arguments","disabled","autofocus","_tabIndex","manipulatingTabindex","tabIndex","focusElement","tabindex","hasAttribute","Number","getAttribute","NaN","isNaN","tabIndexAttribute","parseFloat","setAttribute","addEventListener","onPointerdownManagementOfTabIndex","removeEventListener","removeAttribute","manageFocusElementTabindex","focus","preventScroll","updateComplete","Error","options","HTMLElement","prototype","apply","blur","click","manageAutoFocus","dispatchEvent","KeyboardEvent","code","firstUpdated","changes","update","changedProperties","has","handleDisabledChanged","get","updated","oldDisabled","canSetDisabled","connectedCallback","then","requestAnimationFrame","type","Boolean","reflect"],"mappings":"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","sourcesContent":["var __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __decorateClass = (decorators, target, key, kind) => {\n  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;\n  for (var i = decorators.length - 1, decorator; i >= 0; i--)\n    if (decorator = decorators[i])\n      result = (kind ? decorator(target, key, result) : decorator(result)) || result;\n  if (kind && result)\n    __defProp(target, key, result);\n  return result;\n};\nimport { SpectrumElement } from \"@spectrum-web-components/base\";\nimport { property } from \"@spectrum-web-components/base/src/decorators.js\";\nimport { FocusVisiblePolyfillMixin } from \"./focus-visible.dev.js\";\nexport class Focusable extends FocusVisiblePolyfillMixin(SpectrumElement) {\n  constructor() {\n    super(...arguments);\n    this.disabled = false;\n    this.autofocus = false;\n    this._tabIndex = 0;\n    this.manipulatingTabindex = false;\n  }\n  get tabIndex() {\n    if (this.focusElement === this) {\n      const tabindex = this.hasAttribute(\"tabindex\") ? Number(this.getAttribute(\"tabindex\")) : NaN;\n      return !isNaN(tabindex) ? tabindex : -1;\n    }\n    const tabIndexAttribute = parseFloat(this.hasAttribute(\"tabindex\") ? this.getAttribute(\"tabindex\") || \"0\" : \"0\");\n    if (this.disabled || tabIndexAttribute < 0) {\n      return -1;\n    }\n    if (!this.focusElement) {\n      return tabIndexAttribute;\n    }\n    return this.focusElement.tabIndex;\n  }\n  set tabIndex(tabIndex) {\n    if (this.manipulatingTabindex) {\n      this.manipulatingTabindex = false;\n      return;\n    }\n    if (this.focusElement === this) {\n      if (tabIndex !== this.tabIndex) {\n        this._tabIndex = tabIndex;\n        const tabindex = this.disabled ? \"-1\" : \"\" + tabIndex;\n        this.setAttribute(\"tabindex\", tabindex);\n      }\n      return;\n    }\n    if (tabIndex === -1) {\n      this.addEventListener(\"pointerdown\", this.onPointerdownManagementOfTabIndex);\n    } else {\n      this.manipulatingTabindex = true;\n      this.removeEventListener(\"pointerdown\", this.onPointerdownManagementOfTabIndex);\n    }\n    if (tabIndex === -1 || this.disabled) {\n      this.setAttribute(\"tabindex\", \"-1\");\n      this.removeAttribute(\"focusable\");\n      if (tabIndex !== -1) {\n        this.manageFocusElementTabindex(tabIndex);\n      }\n      return;\n    }\n    this.setAttribute(\"focusable\", \"\");\n    if (this.hasAttribute(\"tabindex\")) {\n      this.removeAttribute(\"tabindex\");\n    } else {\n      this.manipulatingTabindex = false;\n    }\n    this.manageFocusElementTabindex(tabIndex);\n  }\n  onPointerdownManagementOfTabIndex() {\n    if (this.tabIndex === -1) {\n      this.tabIndex = 0;\n      this.focus({ preventScroll: true });\n    }\n  }\n  async manageFocusElementTabindex(tabIndex) {\n    if (!this.focusElement) {\n      await this.updateComplete;\n    }\n    if (tabIndex === null) {\n      this.focusElement.removeAttribute(\"tabindex\");\n    } else {\n      this.focusElement.tabIndex = tabIndex;\n    }\n  }\n  get focusElement() {\n    throw new Error(\"Must implement focusElement getter!\");\n  }\n  focus(options) {\n    if (this.disabled || !this.focusElement) {\n      return;\n    }\n    if (this.focusElement !== this) {\n      this.focusElement.focus(options);\n    } else {\n      HTMLElement.prototype.focus.apply(this, [options]);\n    }\n  }\n  blur() {\n    const focusElement = this.focusElement || this;\n    if (focusElement !== this) {\n      focusElement.blur();\n    } else {\n      HTMLElement.prototype.blur.apply(this);\n    }\n  }\n  click() {\n    if (this.disabled) {\n      return;\n    }\n    const focusElement = this.focusElement || this;\n    if (focusElement !== this) {\n      focusElement.click();\n    } else {\n      HTMLElement.prototype.click.apply(this);\n    }\n  }\n  manageAutoFocus() {\n    if (this.autofocus) {\n      this.dispatchEvent(new KeyboardEvent(\"keydown\", {\n        code: \"Tab\"\n      }));\n      this.focusElement.focus();\n    }\n  }\n  firstUpdated(changes) {\n    super.firstUpdated(changes);\n    if (!this.hasAttribute(\"tabindex\") || this.getAttribute(\"tabindex\") !== \"-1\") {\n      this.setAttribute(\"focusable\", \"\");\n    }\n  }\n  update(changedProperties) {\n    if (changedProperties.has(\"disabled\")) {\n      this.handleDisabledChanged(this.disabled, changedProperties.get(\"disabled\"));\n    }\n    super.update(changedProperties);\n  }\n  updated(changedProperties) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"disabled\") && this.disabled) {\n      this.blur();\n    }\n  }\n  async handleDisabledChanged(disabled, oldDisabled) {\n    const canSetDisabled = () => this.focusElement !== this && typeof this.focusElement.disabled !== \"undefined\";\n    if (disabled) {\n      this.manipulatingTabindex = true;\n      this.setAttribute(\"tabindex\", \"-1\");\n      await this.updateComplete;\n      if (canSetDisabled()) {\n        this.focusElement.disabled = true;\n      } else {\n        this.setAttribute(\"aria-disabled\", \"true\");\n      }\n    } else if (oldDisabled) {\n      this.manipulatingTabindex = true;\n      if (this.focusElement === this) {\n        this.setAttribute(\"tabindex\", \"\" + this._tabIndex);\n      } else {\n        this.removeAttribute(\"tabindex\");\n      }\n      await this.updateComplete;\n      if (canSetDisabled()) {\n        this.focusElement.disabled = false;\n      } else {\n        this.removeAttribute(\"aria-disabled\");\n      }\n    }\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    this.updateComplete.then(() => {\n      requestAnimationFrame(() => {\n        this.manageAutoFocus();\n      });\n    });\n  }\n}\n__decorateClass([\n  property({ type: Boolean, reflect: true })\n], Focusable.prototype, \"disabled\", 2);\n__decorateClass([\n  property({ type: Boolean })\n], Focusable.prototype, \"autofocus\", 2);\n__decorateClass([\n  property({ type: Number })\n], Focusable.prototype, \"tabIndex\", 1);\n"]},"metadata":{},"sourceType":"module"}